function stemWord(word) {
  let stem = word.toLowerCase();
  
  // Step 1a
  if (stem.endsWith("sses")) {
    stem = stem.slice(0, -2);
  } else if (stem.endsWith("ies")) {
    stem = stem.slice(0, -2) + "i";
  } else if (stem.endsWith("ss")) {
    stem = stem;
  } else if (stem.endsWith("s")) {
    stem = stem.slice(0, -1);
  }
  
  // Step 1b
  if (stem.endsWith("eed")) {
    if (countConsonants(stem.slice(0, -3)) > 0) {
      stem = stem.slice(0, -1);
    }
  } else if (stem.endsWith("ed")) {
    if (containsVowel(stem.slice(0, -2))) {
      stem = stem.slice(0, -2);
      stem = step1b2(stem);
    }
  } else if (stem.endsWith("ing")) {
    if (containsVowel(stem.slice(0, -3))) {
      stem = stem.slice(0, -3);
      stem = step1b2(stem);
    }
  }
  
  // Step 1c
  if (stem.endsWith("y")) {
    if (containsVowel(stem.slice(0, -1))) {
      stem = stem.slice(0, -1) + "i";
    }
  }
  
  // Step 2
  if (stem.endsWith("ational")) {
    if (countConsonants(stem.slice(0, -7)) > 0) {
      stem = stem.slice(0, -5) + "e";
    }
  } else if (stem.endsWith("tional")) {
    if (countConsonants(stem.slice(0, -6)) > 0) {
      stem = stem.slice(0, -2);
    }
  } else if (stem.endsWith("enci")) {
    if (countConsonants(stem.slice(0, -4)) > 0) {
      stem = stem.slice(0, -1) + "e";
    }
  } else if (stem.endsWith("anci")) {
    if (countConsonants(stem.slice(0, -4)) > 0) {
      stem = stem.slice(0, -1) + "e";
    }
  } else if (stem.endsWith("izer")) {
    if (countConsonants(stem.slice(0, -4)) > 0) {
      stem = stem.slice(0, -1);
    }
  } else if (stem.endsWith("abli")) {
    if (countConsonants(stem.slice(0, -4)) > 0) {
      stem = stem.slice(0, -1) + "e";
    }
  } else if (stem.endsWith("alli")) {
    if (countConsonants(stem.slice(0, -4)) > 0) {
      stem = stem.slice(0, -2);
    }
  } else if (stem.endsWith("entli")) {
    if (countConsonants(stem.slice(0, -5)) > 0) {
      stem = stem.slice(0, -2);
    }
  } else if (stem.endsWith("eli")) {
    if (countConsonants(stem.slice(0, -3)) > 0) {
      stem = stem.slice(0, -1) + "e";
    }
  }
}
